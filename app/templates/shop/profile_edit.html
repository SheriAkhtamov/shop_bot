{% extends "shop/base.html" %}

{% block content %}
<div
    class="sticky top-0 bg-[#F2E8DC]/90 backdrop-blur-md z-30 px-5 py-4 border-b border-white/20 flex items-center mb-4">
    <a href="/shop/profile"
        class="mr-4 w-10 h-10 bg-white rounded-full flex items-center justify-center text-[#3E2310] shadow-sm active:scale-90 transition">
        <i class="fas fa-arrow-left"></i>
    </a>
    <h1 class="text-xl font-extrabold text-[#3E2310]">Профиль</h1>
</div>

<form action="/shop/profile/update" method="POST" class="px-5 pb-24 space-y-6">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
    <div class="bg-white rounded-2xl shadow-coffee p-5">
        <h3 class="font-bold text-[#3E2310] text-lg mb-4">Заполните профиль</h3>
        <div class="space-y-4">
            <div>
                <label class="block text-xs font-bold text-[#8C735F] uppercase mb-1 ml-1">Телефон</label>
                <input type="tel" name="phone" value="{{ user.phone }}"
                    class="w-full bg-white border border-[#E0CCB7] rounded-xl p-3.5 text-[#3E2310] font-bold focus:outline-none focus:ring-2 focus:ring-[#6B3F1E]"
                    placeholder="+998 90 123 45 67" required>
            </div>
            <div>
                <label class="block text-xs font-bold text-[#8C735F] uppercase mb-2 ml-1">Язык</label>
                <div class="grid grid-cols-2 gap-3">
                    <label class="cursor-pointer">
                        <input type="radio" name="language" value="ru" class="peer hidden" {% if user.language != 'uz' %}checked{% endif %}>
                        <div
                            class="bg-white border-2 border-transparent peer-checked:border-[#6B3F1E] peer-checked:bg-[#FCF9F5] rounded-xl p-4 text-center transition-all shadow-sm">
                            <span class="font-bold text-[#3E2310]">Русский</span>
                        </div>
                    </label>
                    <label class="cursor-pointer">
                        <input type="radio" name="language" value="uz" class="peer hidden" {% if user.language == 'uz' %}checked{% endif %}>
                        <div
                            class="bg-white border-2 border-transparent peer-checked:border-[#6B3F1E] peer-checked:bg-[#FCF9F5] rounded-xl p-4 text-center transition-all shadow-sm">
                            <span class="font-bold text-[#3E2310]">O'zbekcha</span>
                        </div>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <button type="submit"
        class="w-full bg-[#4A6B36] text-white py-4 rounded-xl font-bold text-lg shadow-xl shadow-[#4A6B36]/30 active:scale-95 transition-transform flex justify-center items-center">
        <span>Сохранить</span>
        <i class="fas fa-check ml-2"></i>
    </button>
</form>
{% endblock %}
