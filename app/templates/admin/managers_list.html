{% extends "admin/base.html" %}

{% block header %}–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏{% endblock %}

{% block content %}
<!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
<div class="bg-white rounded px-8 pt-6 pb-8 mb-4">
    <h4 class="font-bold mb-4">–î–æ–±–∞–≤–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞</h4>
    <form action="/admin/managers/new" method="POST" class="flex gap-4 items-end">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
        <div>
            <label class="block text-gray-700 text-xs font-bold mb-2">–õ–æ–≥–∏–Ω</label>
            <input name="username" type="text" class="border rounded py-2 px-3 text-gray-700" required>
        </div>
        <div>
            <label class="block text-gray-700 text-xs font-bold mb-2">–ü–∞—Ä–æ–ª—å</label>
            <input name="password" type="text" class="border rounded py-2 px-3 text-gray-700" required>
        </div>
        <button class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded" type="submit">
            –°–æ–∑–¥–∞—Ç—å
        </button>
    </form>
</div>

<!-- –°–ø–∏—Å–æ–∫ -->
<div class="bg-white shadow-md rounded my-6">
    <table class="min-w-full table-auto">
        <thead>
            <tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
                <th class="py-3 px-6 text-left">ID</th>
                <th class="py-3 px-6 text-left">–õ–æ–≥–∏–Ω</th>
                <th class="py-3 px-6 text-center">–†–æ–ª—å</th>
                <th class="py-3 px-6 text-center">–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody class="text-gray-600 text-sm font-light">
            {% for manager in managers %}
            <tr class="border-b border-gray-200 hover:bg-gray-100">
                <td class="py-3 px-6 text-left">{{ manager.id }}</td>
                <td class="py-3 px-6 text-left font-bold">{{ manager.login }}</td>
                <td class="py-3 px-6 text-center">
                    {% if manager.role == 'superadmin' %}
                    <span class="bg-purple-200 text-purple-600 py-1 px-3 rounded-full text-xs">–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω</span>
                    {% else %}
                    <span class="bg-blue-200 text-blue-600 py-1 px-3 rounded-full text-xs">–ú–µ–Ω–µ–¥–∂–µ—Ä</span>
                    {% endif %}
                </td>
                <td class="py-3 px-6 text-center">
                    {% if manager.role != 'superadmin' %}
                    <form action="/admin/managers/delete/{{ manager.id }}" method="POST"
                        onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞?');"><input type="hidden" name="csrf_token"
                            value="{{ csrf_token }}">
                        <button class="text-red-500 hover:text-red-700">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </form>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}